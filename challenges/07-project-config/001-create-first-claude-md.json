{
  "id": "07-001",
  "module": "project-config",
  "title": "Create Your First CLAUDE.md",
  "description": "Learn what CLAUDE.md is, how Claude Code discovers and uses it, what belongs in it, and what to leave out. Then create a CLAUDE.md for a real React project.",
  "difficulty": "beginner",
  "xpReward": 100,
  "estimatedMinutes": 10,
  "skills": ["claude-md", "project-context", "configuration-basics"],

  "setup": {
    "workingDir": "~/dojo-workspace/challenge-07-001",
    "initialFiles": [
      {
        "path": "README.md",
        "content": "# Challenge: Create Your First CLAUDE.md\n\nLearn what CLAUDE.md is, how it works, and create one for this project.\n\n## What Is CLAUDE.md?\n\nCLAUDE.md is a project instruction file that Claude Code reads automatically\nat the start of every session. Think of it as a briefing document: it tells\nClaude Code what your project is, how it works, and how you want code written.\nWithout it, Claude Code has to guess from context. With it, Claude Code starts\nevery session already understanding your project.\n\nEvery file named CLAUDE.md (case-sensitive) is automatically loaded. No\nconfiguration, no imports, no setup. Just create the file and it works.\n\n## How Claude Code Discovers CLAUDE.md\n\nClaude Code searches for CLAUDE.md files in a specific order and loads ALL\nof them. Understanding the discovery chain is important:\n\n1. **~/.claude/CLAUDE.md** (Global, personal)\n   - Applies to ALL your projects across your entire machine\n   - Good for: personal preferences, your name, preferred language\n   - Example: \"I prefer TypeScript over JavaScript\" or \"Use American English\"\n   - This is NOT committed to git; it is personal to you\n\n2. **Project root CLAUDE.md** (Project-level, shared)\n   - Lives in the same directory as your .git folder\n   - Applies to everyone who works on this project\n   - This IS committed to git and shared with the team\n   - This is the most common and most important CLAUDE.md\n\n3. **Subdirectory CLAUDE.md files** (Scoped, shared)\n   - Claude Code also reads CLAUDE.md files in parent directories\n     between cwd and the git root\n   - Useful in monorepos: each package can have its own CLAUDE.md\n\nAll discovered files are merged. More specific files (closer to cwd)\noverride more general ones if there are conflicts.\n\n## What Goes in CLAUDE.md\n\nA good CLAUDE.md answers the questions Claude Code would ask if it were\na new developer joining your project:\n\n| Section | Purpose | Example |\n|---------|---------|--------|\n| **Project description** | What does this project do? | \"A React todo app with local storage persistence\" |\n| **Tech stack** | What technologies are used? | \"React 18, TypeScript, Vite, Tailwind CSS\" |\n| **Build commands** | How do I build/run/test? | \"`npm run dev` - Start dev server\" |\n| **Testing instructions** | How do I run and write tests? | \"`npm test` - Runs Vitest\" |\n| **Coding conventions** | How should code be written? | \"Use functional components with hooks\" |\n| **Project structure** | Where do files live? | \"Components in src/components/\" |\n\nHere is a minimal but effective example:\n\n```markdown\n# My Project\n\nA REST API for managing a bookstore inventory.\n\n## Tech Stack\n- Node.js 20 + Express 4\n- PostgreSQL with Prisma ORM\n- Jest for testing\n\n## Commands\n- `npm run dev` - Start dev server with hot reload\n- `npm run build` - Compile TypeScript\n- `npm test` - Run test suite\n- `npm run lint` - Run ESLint\n\n## Conventions\n- Use async/await (never raw promises)\n- All routes go in src/routes/\n- All database queries go through Prisma (no raw SQL)\n```\n\n## What NOT to Put in CLAUDE.md\n\n- **Secrets or API keys** - Never put credentials in a file committed to git\n- **Massive file listings** - Claude Code can explore the filesystem itself\n- **Information that changes frequently** - Version numbers that update weekly\n- **Obvious information** - \"This is a JavaScript project\" (when package.json exists)\n- **Entire documentation** - Keep it concise; link to docs instead\n\nCLAUDE.md should be a quick reference, not an encyclopedia. Aim for\n30-100 lines. Claude Code reads the entire file at session start, so\nbrevity improves performance and focus.\n\n## Format\n\nCLAUDE.md is plain Markdown. Use headers (##) to organize sections.\nUse bullet points for lists. Use code blocks for commands. Keep it\nclean and scannable.\n\n## Your Task\n\nThis workspace contains a React todo application with no CLAUDE.md.\nExamine the project files (package.json, source code) and create a\nCLAUDE.md that tells Claude Code everything it needs to know:\n\n1. What the project is and what it does\n2. The tech stack (look at package.json and imports)\n3. How to run, build, test, and lint\n4. Basic project structure\n5. Any coding conventions visible in the existing code\n"
      },
      {
        "path": "package.json",
        "content": "{\n  \"name\": \"todo-app\",\n  \"version\": \"1.0.0\",\n  \"description\": \"A React-based todo application with local storage persistence\",\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview\",\n    \"test\": \"vitest\",\n    \"test:coverage\": \"vitest --coverage\",\n    \"lint\": \"eslint src/\"\n  },\n  \"dependencies\": {\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\"\n  },\n  \"devDependencies\": {\n    \"vite\": \"^5.0.0\",\n    \"vitest\": \"^1.0.0\",\n    \"eslint\": \"^8.50.0\",\n    \"@vitejs/plugin-react\": \"^4.0.0\"\n  }\n}\n"
      },
      {
        "path": "vite.config.js",
        "content": "import { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\n\nexport default defineConfig({\n  plugins: [react()],\n  test: {\n    environment: 'jsdom'\n  }\n});\n"
      },
      {
        "path": "src/App.jsx",
        "content": "import { useState, useEffect } from 'react';\nimport { TodoList } from './components/TodoList';\nimport { AddTodo } from './components/AddTodo';\nimport { FilterBar } from './components/FilterBar';\nimport { loadTodos, saveTodos } from './utils/storage';\n\nfunction App() {\n  const [todos, setTodos] = useState(() => loadTodos());\n  const [filter, setFilter] = useState('all');\n\n  useEffect(() => {\n    saveTodos(todos);\n  }, [todos]);\n\n  const addTodo = (text) => {\n    setTodos([...todos, { id: Date.now(), text, done: false }]);\n  };\n\n  const toggleTodo = (id) => {\n    setTodos(todos.map(t => t.id === id ? { ...t, done: !t.done } : t));\n  };\n\n  const deleteTodo = (id) => {\n    setTodos(todos.filter(t => t.id !== id));\n  };\n\n  const filtered = todos.filter(t => {\n    if (filter === 'active') return !t.done;\n    if (filter === 'done') return t.done;\n    return true;\n  });\n\n  return (\n    <div className=\"app\">\n      <h1>Todo App</h1>\n      <AddTodo onAdd={addTodo} />\n      <FilterBar current={filter} onChange={setFilter} />\n      <TodoList todos={filtered} onToggle={toggleTodo} onDelete={deleteTodo} />\n    </div>\n  );\n}\n\nexport default App;\n"
      },
      {
        "path": "src/components/TodoList.jsx",
        "content": "import { TodoItem } from './TodoItem';\n\nexport function TodoList({ todos, onToggle, onDelete }) {\n  if (todos.length === 0) {\n    return <p className=\"empty\">No todos yet</p>;\n  }\n\n  return (\n    <ul className=\"todo-list\">\n      {todos.map(todo => (\n        <TodoItem\n          key={todo.id}\n          todo={todo}\n          onToggle={() => onToggle(todo.id)}\n          onDelete={() => onDelete(todo.id)}\n        />\n      ))}\n    </ul>\n  );\n}\n"
      },
      {
        "path": "src/components/TodoItem.jsx",
        "content": "export function TodoItem({ todo, onToggle, onDelete }) {\n  return (\n    <li className={`todo-item ${todo.done ? 'done' : ''}`}>\n      <input type=\"checkbox\" checked={todo.done} onChange={onToggle} />\n      <span className=\"todo-text\">{todo.text}</span>\n      <button onClick={onDelete} className=\"delete-btn\">Delete</button>\n    </li>\n  );\n}\n"
      },
      {
        "path": "src/components/AddTodo.jsx",
        "content": "import { useState } from 'react';\n\nexport function AddTodo({ onAdd }) {\n  const [text, setText] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (text.trim()) {\n      onAdd(text.trim());\n      setText('');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"add-todo\">\n      <input\n        type=\"text\"\n        value={text}\n        onChange={(e) => setText(e.target.value)}\n        placeholder=\"Add a new todo...\"\n      />\n      <button type=\"submit\">Add</button>\n    </form>\n  );\n}\n"
      },
      {
        "path": "src/components/FilterBar.jsx",
        "content": "export function FilterBar({ current, onChange }) {\n  const filters = ['all', 'active', 'done'];\n\n  return (\n    <div className=\"filter-bar\">\n      {filters.map(f => (\n        <button\n          key={f}\n          className={current === f ? 'active' : ''}\n          onClick={() => onChange(f)}\n        >\n          {f.charAt(0).toUpperCase() + f.slice(1)}\n        </button>\n      ))}\n    </div>\n  );\n}\n"
      },
      {
        "path": "src/utils/storage.js",
        "content": "const STORAGE_KEY = 'todo-app-todos';\n\nexport function loadTodos() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch {\n    return [];\n  }\n}\n\nexport function saveTodos(todos) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(todos));\n}\n"
      }
    ],
    "cleanBefore": true
  },

  "objectives": [
    {
      "id": "obj-1",
      "description": "Create a CLAUDE.md file in the project root",
      "type": "file_exists",
      "target": "CLAUDE.md",
      "required": true
    },
    {
      "id": "obj-2",
      "description": "Include a project description that mentions it is a todo app",
      "type": "file_contains",
      "target": "CLAUDE.md",
      "pattern": "[Tt]odo",
      "required": true
    },
    {
      "id": "obj-3",
      "description": "Document the tech stack (React and Vite)",
      "type": "file_contains",
      "target": "CLAUDE.md",
      "pattern": "[Rr]eact",
      "required": true
    },
    {
      "id": "obj-4",
      "description": "Include build/dev commands (npm run dev, npm run build, etc.)",
      "type": "file_contains",
      "target": "CLAUDE.md",
      "pattern": "npm run (dev|build)",
      "required": true
    },
    {
      "id": "obj-5",
      "description": "Include test command",
      "type": "file_contains",
      "target": "CLAUDE.md",
      "pattern": "(vitest|npm.*(test|run test))",
      "required": true
    }
  ],

  "bonusObjectives": [
    {
      "id": "bonus-1",
      "description": "Document the project structure (src/components, src/utils)",
      "type": "file_contains",
      "target": "CLAUDE.md",
      "pattern": "src/components|src/utils|[Ss]tructure|[Ff]older",
      "xpBonus": 25
    },
    {
      "id": "bonus-2",
      "description": "Mention coding conventions (functional components, named exports, etc.)",
      "type": "file_contains",
      "target": "CLAUDE.md",
      "pattern": "[Ff]unctional|[Cc]omponent|[Nn]amed export|[Cc]onvention|[Hh]ooks",
      "xpBonus": 25
    }
  ],

  "hints": [
    {
      "level": 1,
      "text": "Start by examining the project files. What framework does the app use? What scripts are available in package.json? What patterns do you see in the source code? Your CLAUDE.md should answer these questions for someone who has never seen the project.",
      "xpCost": 5
    },
    {
      "level": 2,
      "text": "Structure your CLAUDE.md with clear sections: a project description at the top, then ## Tech Stack, ## Commands, and optionally ## Project Structure and ## Conventions. Look at package.json for the scripts and dependencies.",
      "xpCost": 20
    },
    {
      "level": 3,
      "text": "Ask Claude Code: 'Look at this React todo app project - examine package.json for scripts and dependencies, look at the source code for patterns, then create a CLAUDE.md with: project description, tech stack (React 18, Vite, Vitest), all npm scripts, project structure, and coding conventions you observe.'",
      "xpCost": 40
    }
  ],

  "solution": {
    "approach": "Examine the project files to understand the tech stack, scripts, and code patterns, then create a concise CLAUDE.md documenting all of it.",
    "example": "Read package.json and source files, then create CLAUDE.md with project description, tech stack, commands, structure, and conventions",
    "alternativeApproaches": [
      "Ask Claude to analyze the project and generate a CLAUDE.md",
      "Write CLAUDE.md by hand after examining each file"
    ]
  },

  "learningPoints": [
    "CLAUDE.md is automatically read by Claude Code at session start - no configuration needed",
    "Claude Code searches for CLAUDE.md in cwd, parent directories, and ~/.claude/",
    "Project CLAUDE.md (in git root) is shared with the team; ~/.claude/CLAUDE.md is personal",
    "Include project description, tech stack, commands, and conventions",
    "Keep it concise (30-100 lines) - Claude reads the entire file every session",
    "Never put secrets or API keys in CLAUDE.md since it is committed to git"
  ],

  "nextChallenge": "07-002"
}